<head>
  <title>Dude..where's my locator?</title>
  <META name="description" content="Eve Online Locator Agent Finder">
  <META name="keywords" content="eve, eve-online, EvE, agent, search, find, Zedrik Cayne, Zedrik">
  <link href="main.css" rel="stylesheet" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21949366-1']);
      _gaq.push(['_setDomainName', '.justaddhippopotamus.com']);
      _gaq.push(['_trackPageview', '/locatorv2<?php echo $refString;?>']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <script type="text/javascript" src="AgentsTable.js"></script>
    <script type="text/javascript" src="CorpTable.js"></script>
    <script type="text/javascript" src="SolarSystemTable.js"></script>
    <script type="text/javascript" src="agentFinder.js"></script>
    <script type="text/javascript" src="jumpGenerator.js"></script>
    <script type="text/javascript" src="main.js"></script>
</head>
<body onload="changeSystem();">
  <H2>Find your locators</H2>
  <p>
    Are you tired of not being able to find your locator agents?
  </p>
  <p>
    Enter your corporate standings below or use the API interface <a href="apiInterface.php">here</a>.
    They go into the URL..once you have standings set bookmark the site. They will show up again later. You will get a list of the locators (level 3 and 4) that you can use.
  </p>
  <p>The list is ordered in distance from your current system location.</p>
  <p>The 'locate' button starts a timer...when it hits 0 you will definitely have a locate available at that agent.</p>
  <p>Now go and kill something with your new information!</p>
  <p>Send isk to Zedrik Cayne if you like this.</p>
  <p>UPDATED: We now remember your locator timers. So if you close the window, no data lost. Also, we auto-update your location now once a minute. Handle Level 2 and Level 1 agents, and you can add negative standings to corporations to get rid of the false positives due to bad corp standings even though you may have good faction standings. And if you click on the countdown it resets it..Useful now that you can't just refresh the page.</p>
  <div id="cookieee"></div>
  <script type="text/javascript">
    <!--
google_ad_client = "pub-6316860724246582";
/* Locates Header */
google_ad_slot = "3623201956";
google_ad_width = 728;
google_ad_height = 90;
//-->
  </script>
  <script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>

  <p>
    <input type='button' onClick='getIGBPermission()' value='TRUST'>Apply for the Ingame Board Trust.</input>
  </p>
  <p>
    Agents closest to <div id='SSName'></div>
  </p>
  <input type='text' value='' onChange='changeSystem()' name='system' id='system'/>
  <input type='button' onClick='changeSystem()' value='Change System'/>
  <select name='minLevel' id='minLevel' onchange='changeSystem()'>
    <option value='1'>Level 1</option>
    <option value='2'>Level 2</option>
    <option value='3'>Level 3</option>
    <option value='4'>Level 4</option>
    <option value='5'>Level 5</option>
  </select>
  <input type='checkbox' onClick='changeSystem()'$checked value='highsecOnly' name='highsecOnly' id='highsecOnly'>Highsec Only</input>
  <table>
    <tr>
      <div id="TableContainer">
        Table Container...
      </div>
    </tr>

    <tr>
      <div id="StandingsContainer">
        Standings Container...
      </div>
    </tr>
    <tr>
      <select name='corps' id='corps'>
        <option value='1000179'>24th Imperial Crusade</option>
        <option value='1000111'>Aliastra</option>
        <option value='1000073'>Amarr Certified News</option>
        <option value='1000079'>Amarr Civil Service</option>
        <option value='1000063'>Amarr Constructions</option>
        <option value='500003'>Amarr Empire</option>
        <option value='1000084'>Amarr Navy</option>
        <option value='1000083'>Amarr Trade Registry</option>
        <option value='1000126'>Ammatar Consulate</option>
        <option value='1000123'>Ammatar Fleet</option>
        <option value='500007'>Ammatar Mandate</option>
        <option value='500011'>Angel Cartel</option>
        <option value='1000124'>Archangels</option>
        <option value='1000090'>Ardishapur Family</option>
        <option value='1000098'>Astral Mining Inc.</option>
        <option value='1000112'>Bank of Luminaire</option>
        <option value='1000057'>Boundless Creation</option>
        <option value='1000049'>Brutor tribe</option>
        <option value='1000002'>CBD Corporation</option>
        <option value='1000024'>CBD Sell Division</option>
        <option value='1000125'>CONCORD</option>
        <option value='500006'>CONCORD Assembly</option>
        <option value='1000033'>Caldari Business Tribunal</option>
        <option value='1000026'>Caldari Constructions</option>
        <option value='1000028'>Caldari Funds Unlimited</option>
        <option value='1000035'>Caldari Navy</option>
        <option value='1000009'>Caldari Provisions</option>
        <option value='500001'>Caldari State</option>
        <option value='1000015'>Caldari Steel</option>
        <option value='1000064'>Carthum Conglomerate</option>
        <option value='1000169'>Center for Advanced Studies</option>
        <option value='1000108'>Chemal Tech</option>
        <option value='1000031'>Chief Executive Panel</option>
        <option value='1000092'>Civic Court</option>
        <option value='1000099'>Combined Harvest</option>
        <option value='1000056'>Core Complexion Inc.</option>
        <option value='1000043'>Corporate Police Force</option>
        <option value='1000101'>CreoDron</option>
        <option value='1000137'>DED</option>
        <option value='1000006'>Deep Core Mining Inc.</option>
        <option value='1000138'>Dominations</option>
        <option value='1000069'>Ducia Foundry</option>
        <option value='1000109'>Duvolle Laboratories</option>
        <option value='1000018'>Echelon Entertainment</option>
        <option value='1000106'>Egonics Inc.</option>
        <option value='1000086'>Emperor Family</option>
        <option value='1000023'>Expert Distribution</option>
        <option value='1000027'>Expert Housing</option>
        <option value='1000110'>FedMart</option>
        <option value='1000119'>Federal Administration</option>
        <option value='1000181'>Federal Defence Union</option>
        <option value='1000095'>Federal Freight</option>
        <option value='1000121'>Federal Intelligence Office</option>
        <option value='1000168'>Federal Navy Academy</option>
        <option value='1000122'>Federation Customs</option>
        <option value='1000120'>Federation Navy</option>
        <option value='1000061'>Freedom Extension</option>
        <option value='1000076'>Further Foodstuffs</option>
        <option value='500004'>Gallente Federation</option>
        <option value='1000114'>Garoun Investment Bank</option>
        <option value='1000140'>Genolution</option>
        <option value='1000136'>Guardian Angels</option>
        <option value='1000127'>Guristas</option>
        <option value='500010'>Guristas Pirates</option>
        <option value='1000141'>Guristas Production</option>
        <option value='1000070'>HZO Refinery</option>
        <option value='1000165'>Hedion University</option>
        <option value='1000039'>Home Guard</option>
        <option value='1000034'>House of Records</option>
        <option value='1000005'>Hyasyoda Corporation</option>
        <option value='1000166'>Imperial Academy</option>
        <option value='1000065'>Imperial Armaments</option>
        <option value='1000078'>Imperial Chancellor</option>
        <option value='1000072'>Imperial Shipment</option>
        <option value='1000105'>Impetus</option>
        <option value='1000142'>Impro</option>
        <option value='1000071'>Inherent Implants</option>
        <option value='1000144'>Intaki Bank</option>
        <option value='1000145'>Intaki Commerce</option>
        <option value='1000146'>Intaki Space Police</option>
        <option value='1000147'>Intaki Syndicate</option>
        <option value='1000036'>Internal Security</option>
        <option value='1000019'>Ishukone Corporation</option>
        <option value='1000038'>Ishukone Watch</option>
        <option value='1000074'>Joint Harvesting</option>
        <option value='500005'>Jove Empire</option>
        <option value='1000149'>Jove Navy</option>
        <option value='1000150'>Jovian Directorate</option>
        <option value='1000010'>Kaalakiota Corporation</option>
        <option value='1000087'>Kador Family</option>
        <option value='500008'>Khanid Kingdom</option>
        <option value='1000152'>Khanid Transport</option>
        <option value='1000089'>Kor-Azor Family</option>
        <option value='1000020'>Lai Dai Corporation</option>
        <option value='1000037'>Lai Dai Protection Service</option>
        <option value='1000097'>Material Acquisition</option>
        <option value='1000032'>Mercantile Club</option>
        <option value='1000008'>Minedrill</option>
        <option value='1000081'>Ministry of Assessment</option>
        <option value='1000082'>Ministry of Internal Order</option>
        <option value='1000080'>Ministry of War</option>
        <option value='1000055'>Minmatar Mining Corporation</option>
        <option value='500002'>Minmatar Republic</option>
        <option value='1000030'>Modern Finances</option>
        <option value='500018'>Mordu's Legion Command</option>
        <option value='1000060'>Native Freshfood</option>
        <option value='1000154'>Nefantar Miner Association</option>
        <option value='1000068'>Noble Appliances</option>
        <option value='1000017'>Nugoeihuvi Corporation</option>
        <option value='1000075'>Nurtura</option>
        <option value='500014'>ORE</option>
        <option value='1000129'>Outer Ring Excavations</option>
        <option value='1000172'>Pator Tech School</option>
        <option value='1000040'>Peace and Order Unit</option>
        <option value='1000113'>Pend Insurance</option>
        <option value='1000014'>Perkone</option>
        <option value='1000007'>Poksu Mineral Group</option>
        <option value='1000104'>Poteque Pharmaceuticals</option>
        <option value='1000116'>President</option>
        <option value='1000003'>Prompt Delivery</option>
        <option value='1000022'>Propel Dynamics</option>
        <option value='1000155'>Prosper</option>
        <option value='1000100'>Quafe Company</option>
        <option value='1000013'>Rapid Assembly</option>
        <option value='1000051'>Republic Fleet</option>
        <option value='1000052'>Republic Justice Department</option>
        <option value='1000170'>Republic Military School</option>
        <option value='1000050'>Republic Parliament</option>
        <option value='1000054'>Republic Security Services</option>
        <option value='1000171'>Republic University</option>
        <option value='1000102'>Roden Shipyards</option>
        <option value='1000077'>Royal Amarr Institute</option>
        <option value='1000156'>Royal Khanid Navy</option>
        <option value='1000133'>Salvation Angels</option>
        <option value='500019'>Sansha's Nation</option>
        <option value='1000088'>Sarum Family</option>
        <option value='1000044'>School of Applied Knowledge</option>
        <option value='1000045'>Science and Trade Institute</option>
        <option value='1000046'>Sebiestor tribe</option>
        <option value='500020'>Serpentis</option>
        <option value='1000135'>Serpentis Corporation</option>
        <option value='1000158'>Shapeset</option>
        <option value='1000130'>Sisters of EVE</option>
        <option value='1000059'>Six Kin Development</option>
        <option value='1000041'>Spacelane Patrol</option>
        <option value='1000180'>State Protectorate</option>
        <option value='1000167'>State War Academy</option>
        <option value='1000029'>State and Region Bank</option>
        <option value='1000025'>Sukuuvestaa Corporation</option>
        <option value='1000091'>Tash-Murkon Family</option>
        <option value='500012'>The Blood Raider Covenant</option>
        <option value='500013'>The InterBus</option>
        <option value='1000062'>The Leisure Group</option>
        <option value='1000107'>The Scope</option>
        <option value='500016'>The Servant Sisters of EVE</option>
        <option value='500017'>The Society</option>
        <option value='500009'>The Syndicate</option>
        <option value='1000093'>Theology Council</option>
        <option value='1000160'>Thukker Mix</option>
        <option value='500015'>Thukker Tribe</option>
        <option value='1000012'>Top Down</option>
        <option value='1000094'>TransStellar Shipping</option>
        <option value='1000182'>Tribal Liberation Force</option>
        <option value='1000161'>True Creations</option>
        <option value='1000162'>True Power</option>
        <option value='1000163'>Trust Partners</option>
        <option value='1000115'>University of Caille</option>
        <option value='1000053'>Urban Management</option>
        <option value='1000048'>Vherokior tribe</option>
        <option value='1000066'>Viziam</option>
        <option value='1000011'>Wiyrkomi Corporation</option>
        <option value='1000042'>Wiyrkomi Peace Corps</option>
        <option value='1000164'>X-Sense</option>
        <option value='1000004'>Ytiri</option>
        <option value='1000016'>Zainou</option>
        <option value='1000067'>Zoar and Sons</option>
      </select>
      <input type='text' name='setStanding' id='setStanding' />
      <input type='button' name='addStanding' id='addStanding' value='Add Standing' onClick='addStanding()'/>
    </tr>
    
    <tr>
      <td style="font-size: 10px; text-align: justify;">
        COPYRIGHT NOTICE<br>
          EVE Online, the EVE logo, EVE and all associated logos and designs are the intellectual property of CCP hf. All artwork, screenshots, characters, vehicles, storylines, world facts or other recognizable features of the intellectual property relating to these trademarks are likewise the intellectual property of CCP hf. EVE Online and the EVE logo are the registered trademarks of CCP hf. All rights are reserved worldwide. All other trademarks are the property of their respective owners. CCP is in no way responsible for the content on or functioning of this website, nor can it be liable for any damage arising from the use of this website.<br>
      </td>
    </tr>
  </table>
  <script type="text/javascript">

    var timerStarted = false;
    var lastSystem = "";
    var lastHighsec = false;
    var lastLevel = 0;

    function changeSystem()
    {
      var currentStandingsString = gup( 'standings' );
      var newLocation = document.getElementById( 'system' ).value;
      var highsecOnly = document.getElementById( 'highsecOnly' ).checked;
      var minLevel = document.getElementById( 'minLevel' ).value;

      var extraStuff = '';
      var moreStuff = '';

      if( timerStarted == false )
      {
        setInterval( changeSystem, 1000*15 );
        timerStarted = true;
      }

      var httpObject = new XMLHttpRequest();

      httpObject.open( "GET", "whatsystem.php?location="+newLocation, true );
      httpObject.onreadystatechange = function() { ajaxReceipt(httpObject); };
      httpObject.send(null);

      if( lastSystem != newLocation || lastHighsec != highsecOnly || lastLevel != minLevel )
      {
        buildPage( newLocation, highsecOnly, minLevel );
        lastSystem = newLocation;
        lastHighsec = highsecOnly;
        lastLevel = minLevel;
      }
    }

    function getIGBPermission()
    {
      CCPEVE.requestTrust( 'http://eve-locator.justaddhippopotamus.com/' );
    }

    function setCookie(cookieName,cookieValue)
    {
      var today = new Date();
      var expire = new Date();
      nDays=90;
      expire.setTime(today.getTime() + 3600000*24*nDays);
      document.cookie = cookieName+"="+escape(cookieValue) + ";expires="+expire.toGMTString();
    }

    var timerStarted = false;
    var pings = 0;
    var fours = 0;
    var twohun = 0;

    function getCookie(cookieName) {
      var theCookie=""+document.cookie;
      var ind=theCookie.indexOf(cookieName);
      if (ind==-1 || cookieName=="") return "";
      var ind1=theCookie.indexOf(';',ind);
      if (ind1==-1) ind1=theCookie.length;
      return unescape(theCookie.substring(ind+cookieName.length+1,ind1));
    }

    function ajaxReceipt(object)
    {
      if( object.readyState == 4 )
      {
        fours++;
        if( object.status == 200 )
        {
          twohun++;
          document.getElementById( 'system' ).value = object.responseText;
        }
      }
    }
    
    function addStanding()
    {
      var corpId = document.getElementById( 'corps' ).value;
      var standing = document.getElementById( 'setStanding' ).value;
      var currentStandingsString = gup('standings');

      if( currentStandingsString != '' )
      {
        currentStandingsString = currentStandingsString + ',' + corpId + ':' + standing;
      }
      else
      {
        currentStandingsString = corpId + ':' + standing;
      }

      window.location.href = 'index.html?standings='+currentStandingsString;

    }

    function ditchStanding(id)
    {
      var currentStandingsString = gup('standings');
      var newStandingsString = '';

      var StandingArray = currentStandingsString.split(",");
      var NewStandings = new Array();

      for( x in StandingArray )
      {
        var SubSplit = StandingArray[x].split(":");
        if( SubSplit[0] != id )
        {
          NewStandings.push( StandingArray[x] );
        }
      }

      for( x in NewStandings )
      {
        newStandingsString = newStandingsString + NewStandings[x] + ",";
      }

      newStandingsString = newStandingsString.slice( 0, -1 );

      window.location.href = 'index.html?standings='+newStandingsString;
    }

  </script>
</body>

